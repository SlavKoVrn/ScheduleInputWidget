<?php
namespace slavko\schedule;

use yii\base\Widget;
use yii\helpers\Html;

class CheckboxImageWidget extends Widget
{
    public $label;
    public $id;
    public $name;
    public $value;

    private $onImage = 'data:image/png;base64,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';
    private $offImage = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANgAAAB5CAYAAABbYO+mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAEZ0FNQQAAsY58+1GTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAjfSURBVHja7J3bbttGEIZnRnLcBGjyAr6uk/d/mMi99QMUaFC0ieWdXoiUlhQPu+SSe/p/QIgdHUwu5+M/M0uu+PX1lUqUshrS9peRF3HzaH5hJSlxLJ6engiKo2PeEJEh1WGA9IrQxAfY8Kkqkek8L2WDBwGwe1cynhC56/5zzAB4AuCgggDrQBUWqGXgGQs4IWJlwAblB5iqmohQuQFnSJUu28kM0KDEAbtLAdMCawo2vZ4Q4GpQaoBdwVriVmsQ1A1dDaBBsQHzBiu0n/Em0DFAg6IC5gQWh6BlgY1xMOA6oKFGA2D7NS9Wg8UBzY1HONL7D9bFf+BaowE0ALZHA8OTEN4sS5zaIO0Dx4tB6zZDkDYCsN1ci+NB5Qed5XSs60BD2liNZBe4xuKVh+Lv8uCxl0RWZ+uWbyD3xgaCgwVICWfSQM5o4NhOI1mX1GmMlBEOtty1TM+neAqsvOAadTT/fPbyRgM3A2BrUkIuD6zZ1BEpIxQaMDe4ygJrFDT/+gyQATAPuHgMrjp0PY0AMjQ5NoGrWrQG9pubu8rcIbtOTCsRvby8rNqG76fTkqO6MiimTiG959lzPDuhp4eiAZuHq1a0eqPATErqGrdsR+rz8x90ermHhDXDkdV1LGv3xdx/NzNrSuAJ4NrfzbzfQ0Rfn7/mD9ce/KqyqkoDnjKzyRKwDlx39VbZjYxUIIPcgIsJmwSBayy7gcYbIMyLIIN7BYHNJAuYMpm5/A+H370u89W3528YuBDnuJurvaflYEZHGEJauDVk11TxK1LFgK4mlmnEBawzP8NoZsR0MkAWcPy1mRrZADRZABdoSgQyaBvQQjZDfFNERis+HcjgYpuljRzKzcTxDxpn3goc75Q3DpBt62abA6as5soSVwnXrruJVDG9GFjTaZx3sNt9XYALqWKtKaMsrcvEKTWs76RqYu81nCy9uowWQOZSg9XoXtntIlxsF8q8IRM/96qqYxi9uQEXSxMyn3RxzsFwhCOD6AMZXGy/dNG18SGj7sVVu1e79+oIF+5Arg8yWQzYvXtVa2Ts8fwvuBiyl1nArvNeyBV9IRQi+oF6rDLCZq74uHcwA54WQqZEdMBQVHbglZiZz06AWVdt1Fp7rZFQIg0PpInp1GMC9woOGVRdIaajqaKsq/GzlKHEL+CFsisQeCykZDo9LA6x80a71Y7ux82PJdLEdJ1soEEonfM6F92a/0Xu81u+cLWD9S/CrEIDuyxCxN4pYkGI/d3bJXYEp/136mG/ftNWva+LQTFcrHsZVS1F+SNdWui+X8kwBRQNQCtE9LAHZFCi1Viv1yHX3LHs1rwsgIstaAzdmiNDztUH7JGI/om906jDIlFmXad4vNZfZU54/dfso6zMeM/N+w895+cBKNVyy03TRI8vlIB25MuQucJ0LLenQW+Nm4T4quc3C9LDBFx993snXN1RtUqtwd4CuJat3xtYjOfYYuK58jRxYFXT7K3svZcW8kC9tESfyX2Seqhb2a6J/gvhV0WayM1Z9n4p7MwRs8HiwJB9cng/T/y/NPD/F6oOQ6Mj9WAs51bB1l2mAtz+fsWloD2shLSt4+Bk1dRg+Tc4zonUrurx/gMR/UQIll2HSQH115n857lCf0eUryO223oMcBARycnWYcRH1wIiA7hcILBTyWPIwVz4etBRtEzWbeTzQEPDxbVMYLh8HG3lV4BDuemY6XbbE7g8E7BqwXWmHW4pabZPBraDc8/HoTDFeupwTdVcPALXw05wtSeuN7pNTm8KF+owABYuqZ2uubQHVet0DxG29dECC84FwLKQazOjTQcfIm/vQwO5Aq5ypaxFpYguLnemQFdLBIIMgoNl72K2c/0koi8YZyi2jhlvuw7UXufm8SWjE0OYD8f9YQAsYJC2zQPtpYaPzQOCANhK57I7hu9E9AGHE9o9GFmLA6x/RfyBcNcwlKSkKb7TSt1dLsJFsQElb27CZFLrbrnevoH5JCh9woweex4W1Rh+0K1xAYeCsq+/iIiElVNwsb9o2ZLWqL1mdDqdMAhRq7A09IHu1xJcuvYFBMV2LxUSHQQsUm52bACT3mYgVYTyBFD10Ab2LZT394R36t46P7QFuFAWyjxFjNPoaL+NpF3OzOfuZAhKNz1k0Q5gkRsdU2sYxvPWAoQGRyQAjR66DhYXrLHnbJeDoCzcazhF7D2tafQWGHBBuamfDUrvJ3TtICiQe3UA26gOMzgsqL9qda/hGiych/0kNCf2O7viZsvI7jXsTzLwG44UBLnD1biXyixgV4vTII0OgxQR6WEN/NnzXvMpYrhE8Y1wZTxUQWpoz3vNAsbMoRLFzw1kBpDBvcqEazw1nHOwS928nouPgGyHQECDI1LdNd95H3xBQBcjIvqNLh3Fdkm1dxw+qIC6y6m/MLfoTajrAD/hmCA9LCU15Evd5bRg1KjFXV0MggBXBy6aqbtca7BOMQelXX99f/nuVDdA+8E1CxgzCwro8opzyB8uIVFfuFwdDC6WgXsBsk3g0gYu0y4BEBwwuFja6sMFyILCRawsqrp4BWwnB0PDI133Qrq4FVwS5A4THzJx634m7jUURKw4dK6u1aSEQb63wedDBLVYPu41FFSAbBQubUOcVSXkHf2+FogjlAhcLu6FlNEdLlYWXtAlDOlgUMZw1ZwyToEVMh0MBdiSNeShHesupIyjcGkbwkJsVPW49QJPS8kFZBnUXTW7mQWWtQioaDuftdfKaWusEZBllBpWBJrariUkpE1tFWM5wrW5JyDLHK6CQFNlIiEm0lvzLvYanyGKO0C2ceCc/nzR2bl+nT1Gfkc0UbG1t/3Ll1iTWTT3tk2vr6/BAgEsbBFL6/X09ITRjCRJMSAgjCUAQ2AALmh3wBAgGDtoY8AQKBgzqNFxh4BB8wNgwcEQQIALyhMwBBLGBCnijgGlAAuCg20bYAy4IACGYMNJBcomRawxbQRUACypQFSABQGwfQJTARUEwOBqAAvKErCUXQ1QQcUANhXYCqAgALZ/4CsgglLQ/wMAR6qWE4YGQloAAAAASUVORK5CYII=';
    private $imageWidth = 54;
    private $imageHeight = 30;
    private $className;

    public function init()
    {
        parent::init();

        $this->className = 'custom_checkbox_'.md5(microtime());
    }

    public function run()
    {
        $this->registerJsCss();
        $checkbox = Html::checkbox($this->name, $this->value, [
            'id' => $this->id,
            'style' => 'display:none;',
        ]);

        $imgSrc = ($this->value)? $this->onImage : $this->offImage;
        $img = Html::img($imgSrc, [
            'width' => $this->imageWidth,
            'height' => $this->imageHeight,
        ]);

        $br = Html::tag('br');
        $span = Html::tag('span', $this->label).' : ';
        $label = Html::label($span . $img . $checkbox, $this->id, ['class' => $this->className]);

        return $br . $label;
    }

    private function registerJsCss()
    {
        $js =<<<JS
            const checkbox_$this->id = document.getElementById('$this->id');
            const checkboxImage_$this->className = document.querySelector('.$this->className img');
            
            checkbox_$this->id.addEventListener('change', () => {
              checkboxImage_$this->className.src = checkbox_$this->id.checked ? '$this->onImage' : '$this->offImage'
            });
JS;
        $this->getView()->registerJs($js);

        $css =<<<CSS
            .$this->className {
              display: inline-block;
              cursor: pointer;
            }
            .$this->className img {
              width: 54px;
              height: 30px;
            }
CSS;
        $this->getView()->registerCss($css);
    }
}
